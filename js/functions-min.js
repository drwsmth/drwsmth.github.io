var pearlObj=".box .box_wrapper .pearl";document.addEventListener("DOMContentLoaded",function(){if(Barba.Pjax.init(),Barba.Prefetch.init(),getPageDetails(),void 0==$("button.sound_settings").attr("class"))console.log("WHOOPS"),localStorage.setItem("currentSoundClass","nav_button--context sound_settings");else{var e=$("button.sound_settings").attr("class");localStorage.setItem("currentSoundClass",e)}});var buttonClick="click",buttonHome="home",quizCorrect="qCorrect",quizIncorrect="qIncorrect";function loadSound(){createjs.Sound.registerSound("assets/sound/button3.m4a",buttonClick),createjs.Sound.registerSound("assets/sound/home.m4a",buttonHome),createjs.Sound.registerSound("assets/sound/correct.m4a",quizCorrect),createjs.Sound.registerSound("assets/sound/incorrect.m4a",quizIncorrect)}function playSound(e){createjs.Sound.play(e)}Barba.Dispatcher.on("newPageReady",function(e){getPageDetails(),localStorage.removeItem("hueData"),$("button.sound_settings").addClass(localStorage.getItem("currentSoundClass")),$("button.sound_settings").hasClass("muted")?(createjs.Sound.muted=!0,$("button.sound_settings img").attr("src","assets/icons/volumeMute.svg")):(createjs.Sound.muted=!1,$("button.sound_settings img").attr("src","assets/icons/volume.svg")),$(".quiz_open").click(function(){console.log("Open!"),$(".quiz_module, .overlay").addClass("open"),quizApplication()}),$(".quiz_close, .overlay").click(function(){console.log("Closed!"),$(".quiz_module, .overlay").removeClass("open")}),$("button.sound_settings").click(function(){$(this).toggleClass("muted"),localStorage.setItem("currentSoundClass",$(this).attr("class")),$(this).hasClass("muted")?(console.log("Muted"),createjs.Sound.muted=!0,$("button.sound_settings img").attr("src","assets/icons/VolumeMute.svg")):(console.log("Unmuted"),createjs.Sound.muted=!1,$("button.sound_settings img").attr("src","assets/icons/Volume.svg"))});var o=document.location.href,t=o.substr(o.lastIndexOf("/")+1);"page3.html"==t?$("html").addClass("darkmode"):"page4.html"==t?$("html").addClass("darkmode"):"index.html"==t?$("html").addClass("darkmode"):$("html").removeClass("darkmode"),$(".nav_button--context:not(.nav_button--home), label").click(function(){playSound(buttonClick)}),$(".nav_button--home, .nav_button--standard, .nav_segmented").click(function(){playSound(buttonHome)}),$(".welcome_container button").click(function(){playSound(quizCorrect)})});function getRandomColor(){var e=localStorage.getItem("hueData");console.log(e+"CURRENT HUE");var o=0,t=360*Math.random(),a=30*Math.random()+80,n="55%",r=2*(Math.random()+1)*50;return localStorage.setItem("hueData",parseFloat(e)+parseFloat(r)),console.log("The Current Hue is "+e),color="hsl("+t+","+a+"%,55%)",color}function getPageDetails(){var e=document.location.href,o=e.substr(e.lastIndexOf("/")+1);if("index.html"!==o)var t=parseInt(o.match(/\d+/)[0]),a="page"+parseInt(t-1)+".html",n="page"+parseInt(t+1)+".html";else if("index.html"==o){console.log("YARRR");var n="page1.html";$(".module_start").attr("href",n)}$(".nav_link--back").attr("href",a),$(".nav_link--forward").attr("href",n)}function colorCreate(e){var o=$(".box").width()/2,t=$(".box").height()/2;console.log(o),console.log(t);var a=anime.random(50,400),n=anime.random(-100,100)-a/2+o+"px",r=anime.random(-100,100)-a/2+t+"px",s=$("<div></div>").addClass("pearl").css("background",color).css("width",a).css("height",a).css("top",r).css("left",n).css("opacity","0").css("transform","translate(-50%, -50%) scale(0)"),l=$(".box .box_wrapper").append(s),c=anime({targets:pearlObj,opacity:1,scale:1})}function quizApplication(){$(".quiz_module .nav_button--validate").click(function(){var e=0,o=$(".question").find(":checked").length,t=$(".quiz_module .question").length;if($(".quiz_message, .feedback_container *").remove(),console.log("Number of Questions is "+t),console.log("Number of answered questions is "+o),o==t)$(".question").each(function(){$(this).removeClass("answer_incorrect answer_correct"),1==$(this).find(":checked[correct]").length?($(this).addClass("answer_correct"),console.log("Correct Answer!"),$(this).append('<p class="quiz_message">Nice Work!</p>'),e++):(console.log("Incorrect Answer :("),$(this).addClass("answer_incorrect"),$(this).append('<p class="quiz_message">Sorry, try again.</p>'))});else{$(".quiz_module .feedback_container").append('<div class="quiz_message"><h3>Sorry!</h3><p>Make sure to enter all your answers before you submit the quiz!</p></div>');const a=64;var n=anime({targets:".quiz_module",duration:500,translateX:[{value:-1*a},{value:a},{value:a/-2},{value:a/2},{value:0}],complete:function(e){$(pearlObj).remove()}});console.log("Not Enough Answers!")}var r=e/t*100,s=80,l=50;if(console.log("current score is"+r),o==t){if(r>=80&&(playSound(quizCorrect),console.log("Great Score Champ!"),$(".quiz_module .feedback_container").append('<div class="quiz_message"><h3>'+r+"%</h3><p>That is a fantastic score, well done! Click close at the top of this window to return to the learning module.</p></div>")),r>=50&&r<80&&(console.log("Good!"),playSound(quizCorrect),$(".quiz_module .feedback_container").append('<div class="quiz_message"><h3>'+r+"%</h3><p>Not a bad score, well done! Click close at the top of this window to return to the learning module. or carry on to see if you can beat your current score.</p></div>")),r<50){console.log("Ouch!"),playSound(quizIncorrect),$(".quiz_module .feedback_container").append('<div class="quiz_message"><h3>'+r+"%</h3><p>Keep Trying! Click close at the top of this window to return to the learning module. or carry on to see if you can beat your current score.</p></div>");const a=64;var n=anime({targets:".quiz_module",duration:500,translateX:[{value:-1*a},{value:a},{value:a/-2},{value:a/2},{value:0}],complete:function(e){$(pearlObj).remove()}})}if(r<0){console.log("Very Ouch"),playSound(quizIncorrect),$(".quiz_module .feedback_container").append('<div class="quiz_message"><h3>'+r+"%</h3><p>There is something wrong with you. Keep away from the other kids and click close at the top of this window to return to the learning module. Your teacher and parents have been informed.</p></div>");const a=128;var n=anime({targets:".quiz_module",duration:500,translateX:[{value:-1*a},{value:a},{value:a/-2},{value:a/2},{value:0}],complete:function(e){$(pearlObj).remove()}})}}})}Barba.Dispatcher.on("newPageReady",function(e){$(".zoom").magnify(),anime.remove(pearlObj),$(".color_add").on("click",function(e){e.preventDefault(),anime.remove(".box div"),getRandomColor(),colorCreate(color),console.log(color),$(pearlObj).draggable({}),$(pearlObj).mousedown(function(){anime.remove(pearlObj);var e=$(this).css("transform");console.log(e);var o=anime({targets:this,opacity:1,scale:function(e){return anime.random(75,125)/100}})})}),$(".color_arrange").on("click",function(e){anime.remove(pearlObj);var o=anime.random(200,400),t=$(".box").width()/2,a=$(".box").height()/2,n=anime({targets:pearlObj,width:o,height:o,top:function(e){return anime.random(-300,300)-o/2+a+"px"},left:function(e){return anime.random(-300,300)-o/2+t+"px"},scale:function(e){return anime.random(75,100)/100},backgroundColor:function(){return"hsl("+anime.random(0,300)+", "+anime.random(75,100)+"%, "+anime.random(40,60)+"%)"},complete:function(e){anime.remove(pearlObj)}})}),$(".color_clear").on("click",function(e){anime.remove(pearlObj);var o=anime({targets:pearlObj,opacity:0,scale:0,complete:function(e){$(pearlObj).remove()}})}),$(".color_smaller").on("click",function(e){anime.remove(pearlObj);var o=anime({targets:pearlObj,scale:function(e){return anime.random(25,50)/100}})}),$(".color_larger").on("click",function(e){anime.remove(pearlObj);var o=anime({targets:pearlObj,scale:function(e){return anime.random(125,175)/100}})})});